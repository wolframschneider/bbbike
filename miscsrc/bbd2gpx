#!/usr/bin/perl -w

use strict;

use FindBin;
use lib ("$FindBin::RealBin/..",
	 "$FindBin::RealBin/../lib",
	);
use Getopt::Long;
use Strassen::Core;
use Strassen::GPX;

$Strassen::GPX::use_xml_module = $Strassen::GPX::use_xml_module if 0; # cease -w

sub usage {
    die <<EOF;
usage: $0 [-as route] [-xmlmod module] bbdfile
EOF
}

my $as = "track";
GetOptions("as=s" => \$as,
	   "xmlmod=s" => \$Strassen::GPX::use_xml_module,
	  ) or usage();

my $file = shift || usage();
my $s = Strassen->new($file);
my $s_gpx = Strassen::GPX->new($s);
print $s_gpx->bbd2gpx(-as => $as);
