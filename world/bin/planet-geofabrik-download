#!/bin/sh

project_dir=$HOME/projects/osm-streetnames
download_dir=$HOME/projects/osm-streetnames/download/geofabrik

cd $project_dir || exit 2
mkdir -p $download_dir || exit 2
cd $download_dir || exit 2

url=http://download.geofabrik.de/osm/

download () 
{
	subdir=$1
	path=$subdir
	if test -n "$subdir"; then
		 mkdir -p $subdir
	else
		subdir=.
	fi

	echo "( cd $subdir; "
	lynx -dump http://download.geofabrik.de/osm/$path | \
		egrep http://download.geofabrik.de/osm/ | \
		egrep bz2$ | \
		perl -npe 's/^\s*\d+\.\s+/wget /' 
	echo ")"
}

download ""
download europe
download europe/germany
download europe/great_britain
download europe/france

