#!/bin/sh
# Copyright (c) 2011 Wolfram Schneider, http://bbbike.org
#
# wgs84-to-bbbike -  convert polar data to bbbike internal format, for the perl/tk version

: ${data_osm=data-osm}
: ${data_osm_bbbike=data-osm.bbbike}
: ${debug=""}

# die on exit
set -e


for city 
do
   rm -rf ${data_osm_bbbike}/$city
   mkdir -p ${data_osm_bbbike}/$city

   ( 
   cd $data_osm/$city
   for i in `ls -d [a-z]* Berlin* Potsdam* | egrep -v '^opensearch|-orig$|^meta\.'`
   do
	test -z "$debug" || echo $i
	../../miscsrc/convert_coordsys polar < $i > ../../${data_osm_bbbike}/$city/$i
   done
   )
done

